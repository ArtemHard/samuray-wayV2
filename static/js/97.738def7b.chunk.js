"use strict";(self.webpackChunksamurai_way2=self.webpackChunksamurai_way2||[]).push([[97],{9097:function(t,n,e){e.r(n),e.d(n,{ProfileContainer:function(){return $},default:function(){return _},withRouter2:function(){return z}});var r,s,i,u,a=e(1413),o=e(5671),c=e(3144),d=e(136),p=e(516),f=e(2791),l=e(3531),h=e(7689),x=e(7781),v=e(4485),j=e(4165),g=e(5861),m=e(2811),Z=function(t){return m.e.get("profile/"+P(t)).then((function(t){return t.data}))},S=function(t){return m.e.get("profile/status/"+P(t)).then((function(t){return t.data}))},w=function(t){return m.e.put("profile/status/",{status:t}).then((function(t){return t.data}))},P=function(t){return t||"28053"},k=function(t){return{type:"SET-USER-STATUS",status:t}},C=e(168),y=e(6444),M=e(4915),T=e(184),A=function(t){(0,d.Z)(e,t);var n=(0,p.Z)(e);function e(){var t;(0,o.Z)(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(t=n.call.apply(n,[this].concat(s))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.dectivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(n){t.setState({status:n.currentTarget.value})},t}return(0,c.Z)(e,[{key:"componentDidUpdate",value:function(t,n,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,T.jsxs)("div",{children:[!this.state.editMode&&(0,T.jsx)("div",{children:(0,T.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"status doesnt exist"})}),this.state.editMode&&(0,T.jsx)("div",{children:(0,T.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.dectivateEditMode,value:this.state.status})})]})}}]),e}(f.Component),E=function(t){var n=t.profile,e=t.status,r=t.updateStatus;return n?(0,T.jsxs)(b,{children:[(0,T.jsx)("img",{src:"https://e7.pngegg.com/pngimages/340/946/png-clipart-avatar-user-computer-icons-software-developer-avatar-child-face-thumbnail.png",alt:"ava"}),(0,T.jsxs)("div",{children:[(0,T.jsx)(U,{src:n.photos.large}),(0,T.jsx)(A,{status:e,updateStatus:r})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{children:(0,T.jsx)("b",{children:n.fullName})}),(0,T.jsx)("div",{children:n.aboutMe}),(0,T.jsx)("div",{children:n.contacts.vk})]})]}):(0,T.jsx)(M.a,{})},b=y.ZP.div(r||(r=(0,C.Z)(["\n  //margin-top: 50px;\n  & > img {\n    width: 50px;\n  }\n"]))),U=y.ZP.img.attrs((function(t){return{src:t.src}}))(s||(s=(0,C.Z)(["\n  width: 300px;\n  object-fit: cover;\n"]))),D=function(t){return(0,T.jsxs)(R,{children:[(0,T.jsx)("span",{children:t.message}),(0,T.jsxs)("div",{children:["Like: ",t.likesCount]})]})},R=y.ZP.div(i||(i=(0,C.Z)(["\n  margin-top: 50px;\n\n  & > img {\n    width: 50px;\n  }\n"]))),H=e(3648),I=(0,f.memo)((function(t){var n=t.posts.map((function(t){return(0,T.jsx)(D,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,T.jsxs)(L,{children:[(0,T.jsx)("div",{children:"MyPosts"}),(0,T.jsx)(H.Y,{onSubmitHandler:t.addPost,textArea:!0,maxLength:20}),n]})})),L=y.ZP.div(u||(u=(0,C.Z)(["\n  margin-left: 20px;\n"]))),O=(0,l.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:function(t){return{type:"ADD-POST",newPostText:t}}})(I),F=function(t){return(0,T.jsxs)("div",{className:"MainContent",children:[(0,T.jsxs)("ul",{children:[(0,T.jsx)("li",{children:"HTML"}),(0,T.jsx)("li",{children:"CSS"}),(0,T.jsx)("li",{children:"TS"}),(0,T.jsx)("li",{children:"REACT"})]}),(0,T.jsx)(E,(0,a.Z)({},t)),(0,T.jsx)(O,{})]})},$=function(t){(0,d.Z)(e,t);var n=(0,p.Z)(e);function e(){return(0,o.Z)(this,e),n.apply(this,arguments)}return(0,c.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.params.userId,n=this.props.authorizedUserId;!t&&n&&(t=n.toString()),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,T.jsx)(F,(0,a.Z)({},this.props))}}]),e}(f.Component),z=function(t){return function(n){var e=(0,h.TH)(),r=(0,h.UO)(),s=(0,h.s0)();return(0,T.jsx)(t,(0,a.Z)((0,a.Z)({},n),{},{location:e,params:r,navigate:s}))}},N=(0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getProfile:function(t){return function(){var n=(0,g.Z)((0,j.Z)().mark((function n(e){var r;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(t);case 2:r=n.sent,e({type:"SET-USER-PROFILE",profile:r});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},getStatus:function(t){return function(){var n=(0,g.Z)((0,j.Z)().mark((function n(e){var r;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(t);case 2:(r=n.sent).data&&e(k(r.data));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},updateStatus:function(t){return function(){var n=(0,g.Z)((0,j.Z)().mark((function n(e){return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(t);case 2:0===n.sent.resultCode&&e(k(t));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}),_=(0,x.qC)(N,(function(t){return function(n){var e=(0,h.TH)(),r=(0,h.UO)(),s=(0,h.s0)();return(0,T.jsx)(t,(0,a.Z)((0,a.Z)({},n),{},{location:e,params:r,navigate:s}))}}),v.p)($)},4485:function(t,n,e){e.d(n,{p:function(){return o}});var r=e(1413),s=e(7689),i=e(3531),u=e(184),a=function(t){return{isAuth:t.auth.isAuth}},o=function(t){return(0,i.$j)(a)((function(n){return n.isAuth?(0,u.jsx)(t,(0,r.Z)({},n)):(0,u.jsx)(s.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=97.738def7b.chunk.js.map